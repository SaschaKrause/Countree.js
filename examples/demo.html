<!DOCTYPE html>
<html>
<head>
    <title>countree test</title>
    <meta charset="UTF-8">

</head>
<body>


<div id="counter" style="font-size: 20pt">--</div>
<input type="button" onclick="restart()" value="(re)start">
<input type="button" onclick="suspend()" value="suspend">
<input type="button" onclick="resume()" value="resume">


<script type="text/javascript" src="../Countree.js"></script>
<script type="text/javascript">

    (function () {
/*

        var counterOption = {
            direction: 'up',
            startFrom: {
                minutes: 0,
                seconds: 10,
                hours: 0,
                days: 0
            },
            stopAt: {
            },
            updateIntervalInMilliseconds: 10,
            name: 'my first counter'
        };
*/



        var customTimeCounterOption = {
            name: 'my custom time count',
            updateIntervalInMilliseconds: 500,
            customTime: {
                startFrom: {
                    minutes: 0,
                    seconds: 3,
                    hours: 0,
                    days: 0
                },
                stopAt: {
                    seconds: 0
                }
            },
            stopWhenFinished: true

        };


        var dateCounterOption = {
            name: 'my date time count',
            updateIntervalInMilliseconds: 500,
            dateTime: {
                date: new Date(2013, 3, 24, 22, 9,30)
            },
            onInterval: onCountInterval
        };




        var counter = new Countree();
        counter.setOptions(customTimeCounterOption);
        counter.setIntervalCallback(onCountInterval);
        counter.notifyAt({event:"onStart"}, onStart);
        counter.notifyAt({event:"onFinish"}, onFinish);
        counter.init();


        window.restart = function () {
            counter.start();
        };

        window.resume = function () {
            counter.resume();
        };

        window.suspend = function () {
            counter.suspend();
        };


        function onCountInterval(countResult) {
           console.log("user callback: , " + countResult.formattedTime().toString());
        }

        function onStart(countreeRef){
            console.log("START notified for countree: " + countreeRef.name);
        }
        function onFinish(countreeRef){
            console.log("FINISHED notified for countree: " + countreeRef.name);
        }
    })();
</script>

</body>
</html>